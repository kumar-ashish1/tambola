{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import{Component}from\"react\";import Config from\"./Config\";var EnterName=/*#__PURE__*/function(_Component){_inherits(EnterName,_Component);var _super=_createSuper(EnterName);function EnterName(props){var _this;_classCallCheck(this,EnterName);_this=_super.call(this,props);_this.handleChange=function(event){var value=event.target.value;if(value!==\"\"){_this.setState({isEmpty:false,name:value});}else{_this.setState({isEmpty:true,name:value});}};_this.handleKeyPress=function(event){var value=event.target.value;if(event.key===\"Enter\"&&value!==\"\"){console.log(\"enter press here!\");_this.setState({submitted:true});}};_this.handleSubmit=function(event){_this.setState({submitted:true});event.preventDefault();};var queryParams=new URLSearchParams(window.location.search);var uname=queryParams.get('name');var uemp_code=queryParams.get('emp_id');var randomId='_'+Math.random().toString(36).substr(2,9);if(uname==undefined)uname=\"guest\"+randomId;if(uemp_code==undefined)uemp_code=\"emp\"+randomId;_this.state={isEmpty:false,name:uname,submitted:true,emp_code:uemp_code};return _this;}_createClass(EnterName,[{key:\"render\",value:function render(){if(!this.state.submitted){var myStyles={};if(!this.state.isEmpty){myStyles={visibility:\"visible\"};}else{myStyles={visibility:\"hidden\"};}var submitButton=/*#__PURE__*/_jsx(\"div\",{style:myStyles,children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,children:\"OK\"})});return/*#__PURE__*/_jsx(\"div\",{className:\"enter-name-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"enter-name\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"enter-name-question\",children:\"Hi. What's your name?\"}),/*#__PURE__*/_jsx(\"input\",{id:\"enter-name\",type:\"text\",value:this.state.name,placeholder:\"Type your answer here...\",onChange:this.handleChange,onKeyPress:this.handleKeyPress,spellCheck:\"false\",autoFocus:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),submitButton]})});}else{return/*#__PURE__*/_jsx(Config,{socket:this.props.socket,name:this.state.name,emp_code:this.state.emp_code});}}}]);return EnterName;}(Component);export default EnterName;","map":{"version":3,"sources":["/Users/ashish/Documents/tambola2/frontend/src/components/EnterName.tsx"],"names":["React","Component","Config","EnterName","props","handleChange","event","value","target","setState","isEmpty","name","handleKeyPress","key","console","log","submitted","handleSubmit","preventDefault","queryParams","URLSearchParams","window","location","search","uname","get","uemp_code","randomId","Math","random","toString","substr","undefined","state","emp_code","myStyles","visibility","submitButton","socket"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Component } from \"react\";\nimport Config from \"./Config\";\n\ninterface EnterNameProps {\n  socket: any;\n}\n\ninterface EnterNameState {\n  isEmpty: boolean;\n  name: string;\n  emp_code:string;\n  submitted: boolean;\n}\n\nclass EnterName extends Component<EnterNameProps, EnterNameState> {\n  constructor(props: EnterNameProps) {\n    super(props); \n    const queryParams = new URLSearchParams(window.location.search);\n    let uname = queryParams.get('name') as string;\n    let uemp_code = queryParams.get('emp_id') as string;\n\n    let randomId = '_' + Math.random().toString(36).substr(2, 9);\n\n    if(uname == undefined)\n         uname = \"guest\" + randomId;\n\n    if(uemp_code == undefined)\n         uemp_code = \"emp\" + randomId\n\n    this.state = { isEmpty: false, name: uname, submitted: true, emp_code:uemp_code};\n  }\n\n  handleChange = (event: any) => {\n    const { value } = event.target;\n    if (value !== \"\") {\n      this.setState({ isEmpty: false, name: value });\n    } else {\n      this.setState({ isEmpty: true, name: value });\n    }\n  };\n\n  handleKeyPress = (event: any) => {\n    const { value } = event.target;\n    if (event.key === \"Enter\" && value !== \"\") {\n      console.log(\"enter press here!\");\n      this.setState({\n        submitted: true,\n      });\n    }\n  };\n\n  handleSubmit = (event: any) => {\n    this.setState({\n      submitted: true,\n    });\n    event.preventDefault();\n  };\n\n  render() {\n    if (!this.state.submitted) {\n      let myStyles: React.CSSProperties = {};\n      if (!this.state.isEmpty) {\n        myStyles = { visibility: \"visible\" };\n      } else {\n        myStyles = { visibility: \"hidden\" };\n      }\n      let submitButton = (\n        <div style={myStyles}>\n          <button onClick={this.handleSubmit}>OK</button>\n        </div>\n      )\n\n      return (\n        <div className=\"enter-name-container\">\n          <div className=\"enter-name\">\n            <p className=\"enter-name-question\">Hi. What's your name?</p>\n            <input\n              id=\"enter-name\"\n              type=\"text\"\n              value={this.state.name}\n              placeholder=\"Type your answer here...\"\n              onChange={this.handleChange}\n              onKeyPress={this.handleKeyPress}\n              spellCheck=\"false\"\n              autoFocus\n            />\n            <br />\n            <br />\n            <br />\n            {submitButton}\n          </div>\n        </div>\n      );\n    } else {\n      return <Config socket={this.props.socket} name={this.state.name} emp_code={this.state.emp_code} />;\n    }\n  }\n}\n\nexport default EnterName;\n"]},"metadata":{},"sourceType":"module"}