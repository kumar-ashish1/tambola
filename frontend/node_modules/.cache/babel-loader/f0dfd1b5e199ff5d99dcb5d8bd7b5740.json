{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ashish/Documents/tambola2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import{Component}from\"react\";var Timer=/*#__PURE__*/function(_Component){_inherits(Timer,_Component);var _super=_createSuper(Timer);function Timer(props){var _this;_classCallCheck(this,Timer);_this=_super.call(this,props);_this.interval=void 0;_this.updateTimer=function(){var prevSeconds=_this.state.seconds;if(prevSeconds>=1){_this.setState({seconds:prevSeconds-1});if(prevSeconds===1){_this.props.endGame();}}};_this.state={seconds:10,hasGameEnded:false};return _this;}_createClass(Timer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.interval=setInterval(function(){return _this2.updateTimer();},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"render\",value:function render(){var className=\"\";if(this.state.seconds>0){className=\"animated infinite bounceIn\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"game-over\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Game will be over in:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"timer \"+className,children:this.state.seconds})]});}}]);return Timer;}(Component);export default Timer;","map":{"version":3,"sources":["/Users/ashish/Documents/tambola2/frontend/src/components/Timer.tsx"],"names":["React","Component","Timer","props","interval","updateTimer","prevSeconds","state","seconds","setState","endGame","hasGameEnded","setInterval","clearInterval","className"],"mappings":"wsBAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,SAAT,KAA0B,OAA1B,C,GAYMC,CAAAA,K,8FACJ,eAAYC,KAAZ,CAA+B,uCAC7B,uBAAMA,KAAN,EAD6B,MAK/BC,QAL+B,cAa/BC,WAb+B,CAajB,UAAM,CAClB,GAAIC,CAAAA,WAAW,CAAG,MAAKC,KAAL,CAAWC,OAA7B,CACA,GAAIF,WAAW,EAAI,CAAnB,CAAsB,CACpB,MAAKG,QAAL,CAAc,CACZD,OAAO,CAAEF,WAAW,CAAG,CADX,CAAd,EAGA,GAAIA,WAAW,GAAK,CAApB,CAAuB,CACrB,MAAKH,KAAL,CAAWO,OAAX,GACD,CACF,CACF,CAvB8B,CAE7B,MAAKH,KAAL,CAAa,CAAEC,OAAO,CAAE,EAAX,CAAeG,YAAY,CAAE,KAA7B,CAAb,CAF6B,aAG9B,C,+EAGmB,iBAClB,KAAKP,QAAL,CAAgBQ,WAAW,CAAC,iBAAM,CAAA,MAAI,CAACP,WAAL,EAAN,EAAD,CAA2B,IAA3B,CAA3B,CACD,C,mEACsB,CACrBQ,aAAa,CAAC,KAAKT,QAAN,CAAb,CACD,C,uCAcQ,CACP,GAAIU,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAI,KAAKP,KAAL,CAAWC,OAAX,CAAqB,CAAzB,CAA4B,CAC1BM,SAAS,CAAG,4BAAZ,CACD,CACD,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,4CADF,cAEE,UAAG,SAAS,CAAE,SAAWA,SAAzB,UAAqC,KAAKP,KAAL,CAAWC,OAAhD,EAFF,GADF,CAMD,C,mBArCiBP,S,EAwCpB,cAAeC,CAAAA,KAAf","sourcesContent":["import * as React from \"react\";\nimport { Component } from \"react\";\n\ninterface TimerProps {\n  socket: any;\n  endGame: () => void;\n}\n\ninterface TimerState {\n  seconds: number;\n  hasGameEnded: boolean;\n}\n\nclass Timer extends Component<TimerProps, TimerState> {\n  constructor(props: TimerProps) {\n    super(props);\n    this.state = { seconds: 10, hasGameEnded: false };\n  }\n\n  interval: any;\n  componentDidMount() {\n    this.interval = setInterval(() => this.updateTimer(), 1000);\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  updateTimer = () => {\n    let prevSeconds = this.state.seconds;\n    if (prevSeconds >= 1) {\n      this.setState({\n        seconds: prevSeconds - 1,\n      });\n      if (prevSeconds === 1) {\n        this.props.endGame();\n      }\n    }\n  };\n\n  render() {\n    let className = \"\";\n    if (this.state.seconds > 0) {\n      className = \"animated infinite bounceIn\";\n    }\n    return (\n      <div className=\"game-over\">\n        <p>Game will be over in:</p>\n        <p className={\"timer \" + className}>{this.state.seconds}</p>\n      </div>\n    );\n  }\n}\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}