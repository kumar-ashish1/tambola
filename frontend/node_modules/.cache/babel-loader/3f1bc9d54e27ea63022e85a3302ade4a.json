{"ast":null,"code":"import _classCallCheck from\"/Users/ashish/Documents/tambola3/tambola/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ashish/Documents/tambola3/tambola/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ashish/Documents/tambola3/tambola/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ashish/Documents/tambola3/tambola/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from\"react\";import{Component}from\"react\";import Config from\"./Config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EnterName=/*#__PURE__*/function(_Component){_inherits(EnterName,_Component);var _super=_createSuper(EnterName);function EnterName(props){var _this;_classCallCheck(this,EnterName);_this=_super.call(this,props);_this.handleChange=function(event){var value=event.target.value;if(value!==\"\"){_this.setState({isEmpty:false,name:value});}else{_this.setState({isEmpty:true,name:value});}};_this.handleKeyPress=function(event){var value=event.target.value;if(event.key===\"Enter\"&&value!==\"\"){console.log(\"enter press here!\");_this.setState({submitted:true});}};_this.handleSubmit=function(event){_this.setState({submitted:true});event.preventDefault();};var queryParams=new URLSearchParams(window.location.search);var uname=queryParams.get('name');var uemp_code=queryParams.get('emp_id');var randomId='_'+Math.random().toString(36).substr(2,9);if(uname==undefined)uname=\"guest\"+randomId;if(uemp_code==undefined)uemp_code=\"emp\"+randomId;_this.state={isEmpty:false,name:uname,submitted:true,emp_code:uemp_code};return _this;}_createClass(EnterName,[{key:\"render\",value:function render(){if(!this.state.submitted){var myStyles={};if(!this.state.isEmpty){myStyles={visibility:\"visible\"};}else{myStyles={visibility:\"hidden\"};}var submitButton=/*#__PURE__*/_jsx(\"div\",{style:myStyles,children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,children:\"OK\"})});return/*#__PURE__*/_jsx(\"div\",{className:\"enter-name-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"enter-name\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"enter-name-question\",children:\"Hi. What's your name?\"}),/*#__PURE__*/_jsx(\"input\",{id:\"enter-name\",type:\"text\",value:this.state.name,placeholder:\"Type your answer here...\",onChange:this.handleChange,onKeyPress:this.handleKeyPress,spellCheck:\"false\",autoFocus:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),submitButton]})});}else{return/*#__PURE__*/_jsx(Config,{socket:this.props.socket,name:this.state.name,emp_code:this.state.emp_code});}}}]);return EnterName;}(Component);export default EnterName;","map":{"version":3,"names":["React","Component","Config","jsx","_jsx","jsxs","_jsxs","EnterName","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleChange","event","value","target","setState","isEmpty","name","handleKeyPress","key","console","log","submitted","handleSubmit","preventDefault","queryParams","URLSearchParams","window","location","search","uname","get","uemp_code","randomId","Math","random","toString","substr","undefined","state","emp_code","_createClass","render","myStyles","visibility","submitButton","style","children","onClick","className","id","type","placeholder","onChange","onKeyPress","spellCheck","autoFocus","socket"],"sources":["/Users/ashish/Documents/tambola3/tambola/frontend/src/components/EnterName.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Component } from \"react\";\nimport Config from \"./Config\";\n\ninterface EnterNameProps {\n  socket: any;\n}\n\ninterface EnterNameState {\n  isEmpty: boolean;\n  name: string;\n  emp_code:string;\n  submitted: boolean;\n}\n\nclass EnterName extends Component<EnterNameProps, EnterNameState> {\n  constructor(props: EnterNameProps) {\n    super(props); \n    const queryParams = new URLSearchParams(window.location.search);\n    let uname = queryParams.get('name') as string;\n    let uemp_code = queryParams.get('emp_id') as string;\n\n    let randomId = '_' + Math.random().toString(36).substr(2, 9);\n\n    if(uname == undefined)\n         uname = \"guest\" + randomId;\n\n    if(uemp_code == undefined)\n         uemp_code = \"emp\" + randomId\n\n    this.state = { isEmpty: false, name: uname, submitted: true, emp_code:uemp_code};\n  }\n\n  handleChange = (event: any) => {\n    const { value } = event.target;\n    if (value !== \"\") {\n      this.setState({ isEmpty: false, name: value });\n    } else {\n      this.setState({ isEmpty: true, name: value });\n    }\n  };\n\n  handleKeyPress = (event: any) => {\n    const { value } = event.target;\n    if (event.key === \"Enter\" && value !== \"\") {\n      console.log(\"enter press here!\");\n      this.setState({\n        submitted: true,\n      });\n    }\n  };\n\n  handleSubmit = (event: any) => {\n    this.setState({\n      submitted: true,\n    });\n    event.preventDefault();\n  };\n\n  render() {\n    if (!this.state.submitted) {\n      let myStyles: React.CSSProperties = {};\n      if (!this.state.isEmpty) {\n        myStyles = { visibility: \"visible\" };\n      } else {\n        myStyles = { visibility: \"hidden\" };\n      }\n      let submitButton = (\n        <div style={myStyles}>\n          <button onClick={this.handleSubmit}>OK</button>\n        </div>\n      )\n\n      return (\n        <div className=\"enter-name-container\">\n          <div className=\"enter-name\">\n            <p className=\"enter-name-question\">Hi. What's your name?</p>\n            <input\n              id=\"enter-name\"\n              type=\"text\"\n              value={this.state.name}\n              placeholder=\"Type your answer here...\"\n              onChange={this.handleChange}\n              onKeyPress={this.handleKeyPress}\n              spellCheck=\"false\"\n              autoFocus\n            />\n            <br />\n            <br />\n            <br />\n            {submitButton}\n          </div>\n        </div>\n      );\n    } else {\n      return <Config socket={this.props.socket} name={this.state.name} emp_code={this.state.emp_code} />;\n    }\n  }\n}\n\nexport default EnterName;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}