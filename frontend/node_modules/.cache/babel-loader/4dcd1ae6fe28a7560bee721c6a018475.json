{"ast":null,"code":"function getRandom(min,max){return Math.floor(Math.random()*(max-min+1))+min;}function getNumberOfElementsInSet(set){var count=0;for(var i=0;i<set.length;++i){count=count+set[i].length;}return count;}function getRowCount(house,rowIndex){var count=0;for(var i=0;i<house[rowIndex].length;++i){if(house[rowIndex][i]!==0)++count;}return count;}function getEmptyFullTicket(){var houses=[];for(var houseNo=0;houseNo<6;++houseNo){var house=[];for(var rowNo=0;rowNo<3;++rowNo){var row=[0,0,0,0,0,0,0,0,0];house.push(row);}houses[houseNo]=house;}console.log(\"houses\",houses);return houses;}function generate(){var col1=[],col2=[],col3=[],col4=[],col5=[],col6=[],col7=[],col8=[],col9=[];for(var i=1;i<=9;++i){col1.push(i);}for(var _i=10;_i<=19;++_i){col2.push(_i);}for(var _i2=20;_i2<=29;++_i2){col3.push(_i2);}for(var _i3=30;_i3<=39;++_i3){col4.push(_i3);}for(var _i4=40;_i4<=49;++_i4){col5.push(_i4);}for(var _i5=50;_i5<=59;++_i5){col6.push(_i5);}for(var _i6=60;_i6<=69;++_i6){col7.push(_i6);}for(var _i7=70;_i7<=79;++_i7){col8.push(_i7);}for(var _i8=80;_i8<=90;++_i8){col9.push(_i8);}var columns=[col1,col2,col3,col4,col5,col6,col7,col8,col9];var set1=[],set2=[],set3=[],set4=[],set5=[],set6=[];for(var _i9=0;_i9<9;++_i9){set1.push([]);set2.push([]);set3.push([]);set4.push([]);set5.push([]);set6.push([]);}var sets=[set1,set2,set3,set4,set5,set6];//   add 6 numbers from each column to each of the sets\nfor(var _i10=0;_i10<9;++_i10){var col=columns[_i10];for(var j=0;j<6;++j){var _randomNumIndex=getRandom(0,col.length-1);var _randomNum=col[_randomNumIndex];var set=sets[j][_i10];set.push(_randomNum);col.splice(_randomNumIndex,1);}}//   // Assign 1 element of last col to a random set\nvar lastCol=columns[columns.length-1];var randomNumIndex=getRandom(0,lastCol.length-1);var randomNum=lastCol[randomNumIndex];var randomSetIndex=getRandom(0,sets.length-1);var randomSet=sets[randomSetIndex][8];randomSet.push(randomNum);lastCol.splice(randomNumIndex,1);//   // 3 Passes over the columns\nfor(var pass=0;pass<3;++pass){for(var _j=0;_j<9;++_j){var _col=columns[_j];if(_col.length===0)continue;var _randomNumIndex2=getRandom(0,_col.length-1);var _randomNum2=_col[_randomNumIndex2];var vacantSetFound=false;while(vacantSetFound===false){var _randomSetIndex=getRandom(0,sets.length-1);var _randomSet=sets[_randomSetIndex];if(getNumberOfElementsInSet(_randomSet)===15||_randomSet[_j].length===2)continue;vacantSetFound=true;_randomSet[_j].push(_randomNum2);_col.splice(_randomNumIndex2,1);}}}//   // Last pass\nfor(var _j2=0;_j2<9;++_j2){var _col2=columns[_j2];if(_col2.length===0)continue;var _randomNumIndex3=getRandom(0,_col2.length-1);var _randomNum3=_col2[_randomNumIndex3];var _vacantSetFound=false;while(_vacantSetFound===false){var _randomSetIndex2=getRandom(0,sets.length-1);var _randomSet2=sets[_randomSetIndex2];if(getNumberOfElementsInSet(_randomSet2)===15||_randomSet2[_j2].length===3)continue;_vacantSetFound=true;_randomSet2[_j2].push(_randomNum3);_col2.splice(_randomNumIndex3,1);}}for(var _i11=0;_i11<6;++_i11){for(var _j3=0;_j3<9;++_j3){sets[_i11][_j3].sort(function(a,b){return a-b;});}}return sets;}function putElements(set,house){for(var i=0;i<9;++i){// Put the row which have three numbers\nif(set[i].length===3)for(var j=0;j<3;++j){house[j][i]=set[i][j];}}// // Now the cases where the column will have two numbers;\nvar counter=0;var columnIndicesWithTwoNums=[];for(var _i12=0;_i12<9;++_i12){if(set[_i12].length===2){columnIndicesWithTwoNums.push(_i12);}}var lenColumnsWithTwoNums=columnIndicesWithTwoNums.length;for(var _i13=0;_i13<lenColumnsWithTwoNums;++_i13){var randomColumnIndexInArray=getRandom(0,columnIndicesWithTwoNums.length-1);var actualRandomColumnIndex=columnIndicesWithTwoNums[randomColumnIndexInArray];var preComp=[[0,1],[0,2],[1,2]];var indices=preComp[counter%3];house[indices[0]][actualRandomColumnIndex]=set[actualRandomColumnIndex][0];house[indices[1]][actualRandomColumnIndex]=set[actualRandomColumnIndex][1];columnIndicesWithTwoNums.splice(randomColumnIndexInArray,1);++counter;}// Cases where column will have 1 number\nfor(var _i14=0;_i14<9;++_i14){if(set[_i14].length===1){var randomIndex=getRandom(0,2);while(house[randomIndex][_i14]!==0||getRowCount(house,randomIndex)===5){randomIndex=getRandom(0,2);}// found the rowNo for this number\nhouse[randomIndex][_i14]=set[_i14][0];}}return house;}function generateTicket(numHouses){// Full ticket of numbers get generated i.e. 6 houses\nvar sets=generate();var fullTicket=getEmptyFullTicket();for(var i=0;i<numHouses;++i){putElements(sets[i],fullTicket[i]);}var finalTicket=[];for(var _i15=0;_i15<numHouses;++_i15){var house=[];for(var j=0;j<3;++j){var row=[];for(var k=0;k<9;++k){row[k]={value:fullTicket[_i15][j][k],check:false};}house[j]=row;}finalTicket[_i15]=house;}return finalTicket;}var doNotLeavePage=function doNotLeavePage(event){// Custom message is not working, considererd as security threat;\n// Event listener gets removed when the game\nevent.preventDefault();event.returnValue=\"All the game state will be lost. Are you sure you want to leave?\";return\"All the game state will be lost. Are you sure you want to leave?\";};export{generateTicket,doNotLeavePage};","map":{"version":3,"sources":["/Users/ashish/Documents/tambola2/frontend/src/utils/utils.tsx"],"names":["getRandom","min","max","Math","floor","random","getNumberOfElementsInSet","set","count","i","length","getRowCount","house","rowIndex","getEmptyFullTicket","houses","houseNo","rowNo","row","push","console","log","generate","col1","col2","col3","col4","col5","col6","col7","col8","col9","columns","set1","set2","set3","set4","set5","set6","sets","col","j","randomNumIndex","randomNum","splice","lastCol","randomSetIndex","randomSet","pass","vacantSetFound","sort","a","b","putElements","counter","columnIndicesWithTwoNums","lenColumnsWithTwoNums","randomColumnIndexInArray","actualRandomColumnIndex","preComp","indices","randomIndex","generateTicket","numHouses","fullTicket","finalTicket","k","value","check","doNotLeavePage","event","preventDefault","returnValue"],"mappings":"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","sourcesContent":["import { BoxState } from \"../components/Box\";\n\nfunction getRandom(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getNumberOfElementsInSet(set: Array<Array<number>>) {\n  let count = 0;\n  for (let i = 0; i < set.length; ++i) {\n    count = count + set[i].length;\n  }\n  return count;\n}\n\nfunction getRowCount(house: Array<Array<number>>, rowIndex: number) {\n  let count = 0;\n  for (let i = 0; i < house[rowIndex].length; ++i) {\n    if (house[rowIndex][i] !== 0) ++count;\n  }\n  return count;\n}\n\nfunction getEmptyFullTicket(): Array<Array<Array<number>>> {\n  let houses = [];\n  for (let houseNo = 0; houseNo < 6; ++houseNo) {\n    let house = [];\n    for (let rowNo = 0; rowNo < 3; ++rowNo) {\n      let row = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n      house.push(row);\n    }\n    houses[houseNo] = house;\n  }\n  console.log(\"houses\", houses);\n  return houses;\n}\n\nfunction generate() {\n  let col1: Array<number> = [],\n    col2: Array<number> = [],\n    col3: Array<number> = [],\n    col4: Array<number> = [],\n    col5: Array<number> = [],\n    col6: Array<number> = [],\n    col7: Array<number> = [],\n    col8: Array<number> = [],\n    col9: Array<number> = [];\n\n  for (let i = 1; i <= 9; ++i) {\n    col1.push(i);\n  }\n  for (let i = 10; i <= 19; ++i) {\n    col2.push(i);\n  }\n  for (let i = 20; i <= 29; ++i) {\n    col3.push(i);\n  }\n  for (let i = 30; i <= 39; ++i) {\n    col4.push(i);\n  }\n  for (let i = 40; i <= 49; ++i) {\n    col5.push(i);\n  }\n  for (let i = 50; i <= 59; ++i) {\n    col6.push(i);\n  }\n  for (let i = 60; i <= 69; ++i) {\n    col7.push(i);\n  }\n  for (let i = 70; i <= 79; ++i) {\n    col8.push(i);\n  }\n  for (let i = 80; i <= 90; ++i) {\n    col9.push(i);\n  }\n\n  let columns: Array<Array<number>> = [\n    col1,\n    col2,\n    col3,\n    col4,\n    col5,\n    col6,\n    col7,\n    col8,\n    col9,\n  ];\n\n  let set1: Array<Array<number>> = [],\n    set2: Array<Array<number>> = [],\n    set3: Array<Array<number>> = [],\n    set4: Array<Array<number>> = [],\n    set5: Array<Array<number>> = [],\n    set6: Array<Array<number>> = [];\n\n  for (let i = 0; i < 9; ++i) {\n    set1.push([]);\n    set2.push([]);\n    set3.push([]);\n    set4.push([]);\n    set5.push([]);\n    set6.push([]);\n  }\n\n  let sets: Array<Array<Array<number>>> = [set1, set2, set3, set4, set5, set6];\n\n  //   add 6 numbers from each column to each of the sets\n  for (let i = 0; i < 9; ++i) {\n    let col = columns[i];\n    for (let j = 0; j < 6; ++j) {\n      let randomNumIndex = getRandom(0, col.length - 1);\n      let randomNum = col[randomNumIndex];\n      let set = sets[j][i];\n      set.push(randomNum);\n      col.splice(randomNumIndex, 1);\n    }\n  }\n\n  //   // Assign 1 element of last col to a random set\n  let lastCol = columns[columns.length - 1];\n  let randomNumIndex = getRandom(0, lastCol.length - 1);\n  let randomNum = lastCol[randomNumIndex];\n  let randomSetIndex = getRandom(0, sets.length - 1);\n  let randomSet = sets[randomSetIndex][8];\n  randomSet.push(randomNum);\n  lastCol.splice(randomNumIndex, 1);\n\n  //   // 3 Passes over the columns\n  for (let pass = 0; pass < 3; ++pass) {\n    for (let j = 0; j < 9; ++j) {\n      let col = columns[j];\n      if (col.length === 0) continue;\n      let randomNumIndex = getRandom(0, col.length - 1);\n      let randomNum = col[randomNumIndex];\n      let vacantSetFound = false;\n      while (vacantSetFound === false) {\n        let randomSetIndex = getRandom(0, sets.length - 1);\n        let randomSet = sets[randomSetIndex];\n        if (\n          getNumberOfElementsInSet(randomSet) === 15 ||\n          randomSet[j].length === 2\n        )\n          continue;\n\n        vacantSetFound = true;\n        randomSet[j].push(randomNum);\n        col.splice(randomNumIndex, 1);\n      }\n    }\n  }\n\n  //   // Last pass\n  for (let j = 0; j < 9; ++j) {\n    let col = columns[j];\n    if (col.length === 0) continue;\n    let randomNumIndex = getRandom(0, col.length - 1);\n    let randomNum = col[randomNumIndex];\n    let vacantSetFound = false;\n    while (vacantSetFound === false) {\n      let randomSetIndex = getRandom(0, sets.length - 1);\n      let randomSet = sets[randomSetIndex];\n      if (\n        getNumberOfElementsInSet(randomSet) === 15 ||\n        randomSet[j].length === 3\n      )\n        continue;\n\n      vacantSetFound = true;\n      randomSet[j].push(randomNum);\n      col.splice(randomNumIndex, 1);\n    }\n  }\n\n  for (let i = 0; i < 6; ++i) {\n    for (let j = 0; j < 9; ++j) {\n      sets[i][j].sort((a, b) => {\n        return a - b;\n      });\n    }\n  }\n\n  return sets;\n}\n\nfunction putElements(set: Array<Array<number>>, house: Array<Array<number>>) {\n  for (let i = 0; i < 9; ++i) {\n    // Put the row which have three numbers\n    if (set[i].length === 3)\n      for (let j = 0; j < 3; ++j) {\n        house[j][i] = set[i][j];\n      }\n  }\n\n  // // Now the cases where the column will have two numbers;\n  let counter = 0;\n  let columnIndicesWithTwoNums = [];\n  for (let i = 0; i < 9; ++i) {\n    if (set[i].length === 2) {\n      columnIndicesWithTwoNums.push(i);\n    }\n  }\n  let lenColumnsWithTwoNums = columnIndicesWithTwoNums.length;\n  for (let i = 0; i < lenColumnsWithTwoNums; ++i) {\n    let randomColumnIndexInArray = getRandom(\n      0,\n      columnIndicesWithTwoNums.length - 1\n    );\n    let actualRandomColumnIndex =\n      columnIndicesWithTwoNums[randomColumnIndexInArray];\n    let preComp = [\n      [0, 1],\n      [0, 2],\n      [1, 2],\n    ];\n    let indices = preComp[counter % 3];\n    house[indices[0]][actualRandomColumnIndex] =\n      set[actualRandomColumnIndex][0];\n    house[indices[1]][actualRandomColumnIndex] =\n      set[actualRandomColumnIndex][1];\n    columnIndicesWithTwoNums.splice(randomColumnIndexInArray, 1);\n    ++counter;\n  }\n\n  // Cases where column will have 1 number\n  for (let i = 0; i < 9; ++i) {\n    if (set[i].length === 1) {\n      let randomIndex = getRandom(0, 2);\n      while (\n        house[randomIndex][i] !== 0 ||\n        getRowCount(house, randomIndex) === 5\n      ) {\n        randomIndex = getRandom(0, 2);\n      }\n      // found the rowNo for this number\n      house[randomIndex][i] = set[i][0];\n    }\n  }\n  return house;\n}\n\nfunction generateTicket(numHouses: number) {\n  // Full ticket of numbers get generated i.e. 6 houses\n  let sets = generate();\n  let fullTicket = getEmptyFullTicket();\n  for (let i = 0; i < numHouses; ++i) {\n    putElements(sets[i], fullTicket[i]);\n  }\n  let finalTicket: Array<Array<Array<BoxState>>> = [];\n  for (let i = 0; i < numHouses; ++i) {\n    let house: Array<Array<BoxState>> = [];\n    for (let j = 0; j < 3; ++j) {\n      let row: Array<BoxState> = [];\n      for (let k = 0; k < 9; ++k) {\n        row[k] = { value: fullTicket[i][j][k], check: false };\n      }\n      house[j] = row;\n    }\n    finalTicket[i] = house;\n  }\n  return finalTicket;\n}\n\nlet doNotLeavePage = (event: any) => {\n  // Custom message is not working, considererd as security threat;\n  // Event listener gets removed when the game\n  event.preventDefault();\n  event.returnValue =\n    \"All the game state will be lost. Are you sure you want to leave?\";\n  return \"All the game state will be lost. Are you sure you want to leave?\";\n};\n\nexport { generateTicket, doNotLeavePage };\n"]},"metadata":{},"sourceType":"module"}